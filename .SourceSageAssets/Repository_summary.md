# 📁 Project: hf-space-card-showcase

## 🌳 ディレクトリ構造

```plaintext
OS: linux
Directory: /home/maki/prj/hf-space-card-showcase
Ignore File: .SourceSageignore (auto-generated)

└─ hf-space-card-showcase/
   ├─ docs/
   │  └─ SETUP.md
   ├─ prisma/
   │  ├─ dev.db
   │  └─ schema.prisma
   ├─ src/
   │  ├─ app/
   │  │  ├─ (auth)/
   │  │  │  ├─ login/
   │  │  │  │  └─ page.tsx
   │  │  │  └─ layout.tsx
   │  │  └─ layout.tsx
   │  ├─ components/
   │  │  ├─ ui/
   │  │  │  ├─ button.tsx
   │  │  │  ├─ input.tsx
   │  │  │  └─ label.tsx
   │  │  ├─ LogoutButton.tsx
   │  │  ├─ Navbar.tsx
   │  │  └─ SpaceCard.tsx
   │  ├─ lib/
   │  │  ├─ auth.ts
   │  │  └─ utils.ts
   │  ├─ pages/
   │  │  ├─ api/
   │  │  │  ├─ auth/
   │  │  │  │  └─ [...nextauth].ts
   │  │  │  ├─ profile/
   │  │  │  │  └─ update.ts
   │  │  │  └─ signup.ts
   │  │  ├─ _app.tsx
   │  │  ├─ create-space.tsx
   │  │  ├─ index.tsx
   │  │  ├─ profile.tsx
   │  │  ├─ signup.tsx
   │  │  └─ spaces.tsx
   │  ├─ styles/
   │  │  └─ globals.css
   │  ├─ types/
   │  │  └─ next-auth.d.ts
   │  └─ globals.css
   ├─ static/
   │  └─ images/
   │     ├─ icon/
   │     └─ spaces/
   ├─ .env
   ├─ .SourceSageignore
   ├─ .windsurfrules
   ├─ next-env.d.ts
   ├─ next.config.js
   ├─ package.json
   ├─ postcss.config.js
   ├─ README.md
   ├─ tailwind.config.js
   └─ tsconfig.json
```

## 📊 統計情報

### 📈 ファイル別行数

| ファイル | 行数 |
|---------|------|
| src/pages/spaces.tsx | 212行 |
| src/pages/profile.tsx | 208行 |
| src/pages/signup.tsx | 183行 |
| src/pages/index.tsx | 181行 |
| src/pages/create-space.tsx | 136行 |
| src/lib/auth.ts | 133行 |
| src/pages/api/signup.ts | 116行 |
| src/pages/api/profile/update.ts | 109行 |
| .windsurfrules | 99行 |
| README.md | 95行 |
| src/styles/globals.css | 87行 |
| src/components/SpaceCard.tsx | 86行 |
| prisma/schema.prisma | 85行 |
| src/app/(auth)/login/page.tsx | 79行 |
| prisma/dev.db | 67行 |
| src/components/Navbar.tsx | 67行 |
| src/components/ui/button.tsx | 60行 |
| src/globals.css | 41行 |
| .SourceSageignore | 40行 |
| src/components/ui/input.tsx | 37行 |
| package.json | 36行 |
| src/components/LogoutButton.tsx | 35行 |
| docs/SETUP.md | 32行 |
| src/app/layout.tsx | 32行 |
| tailwind.config.js | 30行 |
| tsconfig.json | 28行 |
| src/types/next-auth.d.ts | 26行 |
| src/components/ui/label.tsx | 25行 |
| src/app/(auth)/layout.tsx | 17行 |
| next.config.js | 16行 |
| src/pages/_app.tsx | 14行 |
| next-env.d.ts | 7行 |
| postcss.config.js | 7行 |
| src/lib/utils.ts | 7行 |
| src/pages/api/auth/[...nextauth].ts | 5行 |
| .env | 2行 |

### 📋 合計行数: 2440行


## 📄 ファイル内容

### 📝 `.env`

```
NEXTAUTH_URL=http://localhost:3000

```

### 📝 `.SourceSageignore`

```
# バージョン管理システム関連
.git
.gitignore

# キャッシュファイル
__pycache__
.pytest_cache
**/__pycache__/**
*.pyc

# ビルド・配布関連
build
dist
*.egg-info
node_modules

# 一時ファイル・出力
output
output.md
test_output
.SourceSageAssets
.SourceSageAssetsDemo

# アセット
*.png
*.svg
assets

# その他
LICENSE
example
folder
package-lock.json
.DS_Store
.next
favicon.ico

*.png
*.jpg

```

### 📝 `.windsurfrules`

```

日本語で応答して
下記の要件に従って処理やタスク管理を行って


# 🔄 リポジトリ要件定義プロンプト

## 📋 タスク管理方針
1. プロジェクト開始時
   - タスクを洗い出す
   - 洗い出したタスクをGitHub issueとして登録する
   - 各issueには適切なラベルと担当者を設定する

2. 進捗管理
   - タスクの進捗は該当するissueにコメントとして報告する
   - 進捗報告は具体的な実施内容と次のステップを含める
   - ブロッカーや課題が発生した場合も、issueにコメントとして記録する

3. コミット管理
   - 各コミットメッセージには関連するissue番号を含める
   - 形式：`<絵文字> <タイプ> #<Issue番号>: <タイトル>`

## 🌟 基本方針
- 言語ポリシー  
  - コード中の変数名・関数名・クラス名・ファイル名などのコード要素：英語  
  - コメント、README、ドキュメント、コミットメッセージ：日本語

- README作成・整備  
  - `README.md`を必ず作成し、日本語で記述すること  
  - `README.md`には、`assets`ディレクトリに格納したSVGヘッダー画像を使用し、中央揃えで配置する
    - SVGは角を丸めた形状、グラデーション、図形・テキスト・グラデーションに対するアニメーションを付与し、英語の洗練された表現を入れること
  - `README.md`は変更が生じるたびに更新すること
  - 重複コンテンツは避け、情報源を一元化する
  - READMEの章には絵文字を付与して可読性を高める

## 💻 コーディング・ドキュメント作成原則
以下の原則はコードだけでなく、ドキュメント（Markdown形式のファイルを含む）にも適用される：

1. DRY（Dont Repeat Yourself）  
   - 同一・類似処理は関数・モジュール化することで再利用性を高める
   - ドキュメントでも情報の重複を避け、必要に応じて相互参照を使用する

2. 責務の分離（Separation of Concerns）  
   - 各モジュール・クラス・関数は単一責務を明確にし、表現・ロジック・データ処理を分離する
   - ドキュメントも目的別にファイルを分け、適切に構造化する

3. KISS（Keep It Simple, Stupid）  
   - コードは可能な限りシンプルに保ち、過度な複雑化を避ける
   - ドキュメントも簡潔で理解しやすい記述を心がける

4. 分割統治（Divide and Conquer）  
   - 大きな問題は小さな単位に分割し、テスト・保守性を向上させる
   - 大きなドキュメントは適切に章立てし、必要に応じて複数のファイルに分割する

5. 防御的プログラミング（Defensive Programming）  
   - 入力値検証、例外処理、エラー対策を行い、堅牢性とセキュリティを確保する
   - ドキュメントでも想定外の使用シナリオや注意点を明記する

6. YAGNI（You Arent Gonna Need It）  
   - 現在の要件に集中し、不要な将来予測による過剰実装を避ける
   - ドキュメントも現時点で必要な情報に焦点を当てる

7. 可読性とドキュメンテーション  
   - 変数・関数・クラス名は英語で、役割が一目でわかるような命名を行う
   - コメントやREADMEでコードの意図・ロジックを日本語で明確に説明する
   - ドキュメントは一貫した書式とスタイルを維持する

8. テスト駆動開発（TDD）とユニットテスト  
   - 基本機能にはユニットテストを用意する
   - TDDを推奨し、要件定義→テスト→実装→リファクタリングのサイクルを確立する
   - ドキュメントも定期的にレビューし、正確性を確認する

9. バージョン管理とコードレビュー  
   - Gitで変更履歴を管理し、プルリクエストを通じてコードレビューを行う
   - ファイルを変更したら、変更があったファイルごとにコミットを行い、履歴管理を明確化すること
   - ドキュメントの変更も同様にバージョン管理し、レビューを行う

10. SOLID原則の適用  
    - SRP, OCP, LSP, ISP, DIPを考慮し、拡張性・保守性の高い設計を行う
    - ドキュメントも単一責任の原則に従い、適切に構造化する

## 📝 コミットメッセージ形式

- コミットメッセージは以下の形式に従うこと:
  ```
  <絵文字> <タイプ> #<Issue番号>: <タイトル>
  <本文>
  <フッター>
  ```
- タイトル（コミットメッセージの1行目）の先頭には必ず絵文字を付与し、日本語で記述すること  
- タイプは以下のいずれかとする：
  - feat: 新機能  
  - fix: バグ修正  
  - docs: ドキュメントの変更  
  - style: コードスタイルの変更（動作に影響しない）  
  - refactor: リファクタリング  
  - perf: パフォーマンス改善  
  - test: テストの追加・修正  
  - chore: ビルドプロセスやツールの変更
```

### 📝 `docs/SETUP.md`

**Type**: Markdown Documentation

```md
# ⚙️ セットアップ詳細

## 🗄️ データベースの作成

このプロジェクトでは、SQLiteデータベースを使用しています。以下の手順でデータベースを作成します。

1.  Prisma CLIを使用してデータベースを初期化します。
    ```bash
    npx prisma db push
    ```
    このコマンドは、`prisma/schema.prisma`ファイルに基づいてデータベースを作成し、スキーマを適用します。

## 🚀 アプリケーションの起動

1.  開発サーバーを起動します。
    ```bash
    npm run dev
    ```
    または
    ```bash
    yarn dev
    ```
    これにより、アプリケーションがローカルホストの3000番ポートで起動します。

2.  ブラウザで [http://localhost:3000](http://localhost:3000) を開きます。

## 📝 注意事項

-   データベースの変更を行った場合は、`npx prisma db push`コマンドを再度実行して、データベースを更新してください。
-   開発環境では、`npm run dev`または`yarn dev`コマンドを使用してください。
-   本番環境では、`npm run build`または`yarn build`コマンドでビルドした後、`npm start`または`yarn start`コマンドでアプリケーションを起動してください。

```

### 📝 `next-env.d.ts`

```ts
/// <reference types="next" />
/// <reference types="next/image-types/global" />
/// <reference types="next/navigation-types/compat/navigation" />

// NOTE: This file should not be edited
// see https://nextjs.org/docs/basic-features/typescript for more information.

```

### 📝 `next.config.js`

```js
/** @type {import('next').NextConfig} */
const nextConfig = {
  reactStrictMode: true,
  images: {
    remotePatterns: [
      {
        protocol: 'https',
        hostname: '**',
      },
    ],
    dangerouslyAllowSVG: true,
  },
}

module.exports = nextConfig

```

### 📝 `package.json`

```json
{
  "name": "hf-space-card-showcase",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint"
  },
  "dependencies": {
    "@next-auth/prisma-adapter": "^1.0.7",
    "@prisma/client": "^6.2.1",
    "@types/bcryptjs": "^2.4.6",
    "autoprefixer": "^10.4.16",
    "bcryptjs": "^2.4.3",
    "clsx": "^2.1.1",
    "lucide-react": "^0.473.0",
    "next": "14.0.4",
    "next-auth": "^4.24.11",
    "postcss": "^8.4.33",
    "prisma": "^6.2.1",
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "sonner": "^1.7.2",
    "tailwind-merge": "^2.6.0",
    "tailwindcss": "^3.4.1"
  },
  "devDependencies": {
    "@tailwindcss/aspect-ratio": "^0.4.2",
    "@types/node": "^20.10.8",
    "@types/react": "^18.2.47",
    "typescript": "^5.3.3"
  }
}

```

### 📝 `postcss.config.js`

```js
module.exports = {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}

```

### 📝 `prisma/dev.db`

```db
SQLite format 3   @                                                                     .v�� f ��q�`H
��
���K�{��f                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      t;�%indexLike_userId_spaceId_keyLikeCREATE UNIQUE INDEX "Like_userId_spaceId_key" ON "Like"("userId", "spaceId")�.Y/�aindexVerificationToken_identifier_token_keyVerificationTokenCREATE UNIQUE INDEX "VerificationToken_identifier_token_key" ON "VerificationToken"("identifier", "token")�
C/�/indexVerificationToken_token_keyVerificationTokenCREATE UNIQUE INDEX "VerificationToken_token_key" ON "VerificationToken"("token")_/�indexUser_username_keyUserCREATE UNIQUE INDEX "User_username_key" ON "User"("username")U){indexUser_email_keyUserCREATE UNIQUE INDEX "User_email_key" ON "User"("email")w=�#indexSession_sessionToken_keySessionCREATE UNIQUE INDEX "Session_sessionToken_key" ON "Session"("sessionToken")�$Y�aindexAccount_provider_providerAccountId_keyAccountCREATE UNIQUE INDEX "Account_provider_providerAccountId_key" ON "Account"("provider", "providerAccountId")�8
�StableLikeLikeCREATE TABLE "Like" (
    "id" TEXT NOT NULL PRIMARY KEY,
    "userId" TEXT NOT NULL,
    "spaceId" TEXT NOT NULL,
    "createdAt" DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT "Like_userId_fkey" FOREIGN KEY ("userId") REFERENCES "User" ("id") ON DELETE RESTRICT ON UPDATE CASCADE,
    CONSTRAINT "Like_spaceId_fkey" FOREIGN KEY ("spaceId") REFERENCES "Space" ("id") ON DELETE RESTRICT ON UPDATE CASCADE
)'; indexsqlite_autoindex_Like_1Like�+�5tableSpaceSpace	CREATE TABLE "Space" (
    "id" TEXT NOT NULL PRIMARY KEY,
    "title" TEXT NOT NULL,
    "description" TEXT,
    "authorId" TEXT NOT NULL,
    "runtime" TEXT NOT NULL,
    "visibility" TEXT NOT NULL DEFAULT 'public',
    "createdAt" DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT "Space_authorId_fkey" FOREIGN KEY ("authorId") REFERENCES "User" ("id") ON DELETE RESTRICT ON UPDATE CASCADE
))	= indexsqlite_autoindex_Space_1Space
�.//�tableVerificationTokenVerificationTokenCREATE TABLE "VerificationToken" (
    "identifier" TEXT NOT NULL,
    "token" TEXT NOT NULL,
    "expires" DATETIME NOT NULL
)�e�-tableUserUserCREATE TABLE "User" (
    "id" TEXT NOT NULL PRIMARY KEY,
    "name" TEXT,
    "email" TEXT,
    "emailVerified" DATETIME,
    "image" TEXT,
    "username" TEXT,
    "bio" TEXT,
    "password" TEXT NOT NULL
)'; indexsqlite_autoindex_User_1User�1�9tableSessionSessionCREATE TABLE "Session" (
    "id" TEXT NOT NULL PRIMARY KEY,
    "sessionToken" TEXT NOT NULL,
    "userId" TEXT NOT NULL,
    "expires" DATETIME NOT NULL,
    CONSTRAINT "Session_userId_fkey" FOREIGN KEY ("userId") REFERENCES "User" ("id") ON DELETE CASCADE ON UPDATE CASCADE
)-A indexsqlite_autoindex_Session_1Session�r�;tableAccountAccountCREATE TABLE "Account" (
    "id" TEXT NOT NULL PRIMARY KEY,
    "userId" TEXT NOT NULL,
    "type" TEXT NOT NULL,
    "provider" TEXT NOT NULL,
    "providerAccountId" TEXT NOT NULL,
    "refresh_token" TEXT,
    "access_token" TEXT,
    "expires_at" INTEGER,
    "token_type" TEXT,
    "scope" TEXT,
    "id_token" TEXT,
    "session_state" TEXT,
    CONSTRAINT "Account_userId_fkey" FOREIGN KEY ("userId") REFERENCES "User" ("id") ON DELETE CASCADE ON UPDATE CASCADE
)-A indexsqlite_autoindex_Account_1Account                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
```

### 📝 `prisma/schema.prisma`

```prisma
// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model Account {
  id                 String  @id @default(cuid())
  userId             String
  type               String
  provider           String
  providerAccountId  String
  refresh_token      String?
  access_token       String?
  expires_at         Int?
  token_type         String?
  scope              String?
  id_token           String?
  session_state      String?

  user User @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@unique([provider, providerAccountId])
}

model Session {
  id           String   @id @default(cuid())
  sessionToken String   @unique
  userId       String
  expires      DateTime
  user         User     @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model User {
  id            String    @id @default(cuid())
  name          String?
  email         String?   @unique
  emailVerified DateTime?
  image         String?
  username      String?   @unique
  bio           String?
  password      String
  accounts      Account[]
  sessions      Session[]
  spaces        Space[]
  likes         Like[]
}

model VerificationToken {
  identifier String
  token      String   @unique
  expires    DateTime

  @@unique([identifier, token])
}

model Space {
  id          String   @id @default(cuid())
  title       String
  description String?
  author      User     @relation(fields: [authorId], references: [id])
  authorId    String
  runtime     String
  visibility  String   @default("public")
  likes       Like[]
  createdAt   DateTime @default(now())
}

model Like {
  id        String   @id @default(cuid())
  user      User     @relation(fields: [userId], references: [id])
  userId    String
  space     Space    @relation(fields: [spaceId], references: [id])
  spaceId   String
  createdAt DateTime @default(now())

  @@unique([userId, spaceId])
}

```

### 📝 `README.md`

**Type**: Markdown Documentation

```md
<div align="center">

![App Gallery Showcase Header](https://github.com/user-attachments/assets/24a2edc1-dc5e-4dda-8d1a-638ab29aede7)

# 📊 App Gallery Showcase

**プロジェクトを美しく魅力的に紹介するウェブアプリケーション**

[![GitHub stars](https://img.shields.io/github/stars/Sunwood-ai-labs/hf-space-card-showcase?style=social)](https://github.com/Sunwood-ai-labs/hf-space-card-showcase)
[![GitHub license](https://img.shields.io/github/license/Sunwood-ai-labs/hf-space-card-showcase)](https://github.com/Sunwood-ai-labs/hf-space-card-showcase/blob/main/LICENSE)


[![Next.js](https://img.shields.io/badge/Next.js-000000?style=for-the-badge&logo=nextdotjs&logoColor=white)](https://nextjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-3178C6?style=for-the-badge&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
[![Tailwind CSS](https://img.shields.io/badge/Tailwind_CSS-38B2AC?style=for-the-badge&logo=tailwind-css&logoColor=white)](https://tailwindcss.com/)

</div>

## ✨ 特徴

- モダンなカードベースのレイアウト
- レスポンシブデザイン
- Next.jsルーティング
- TypeScriptの型安全性
- Tailwind CSSスタイリング

## 🛠️ 前提条件

- Node.js (v16以降)
- npm または yarn

## 📦 セットアップ

[セットアップ詳細](docs/SETUP.md)

1. リポジトリをクローン:
```bash
git clone https://github.com/Sunwood-ai-labs/hf-space-card-showcase.git
cd hf-space-card-showcase
```

2. 依存関係をインストール:
```bash
npm install
# または
yarn install
```

3. 開発サーバーを起動:
```bash
npm run dev
# または
yarn dev
```

4. ブラウザで [http://localhost:3000](http://localhost:3000) を開きます

## 🚀 本番ビルド

```bash
npm run build
# または
yarn build
```

## 🔧 使用技術

- [Next.js](https://nextjs.org/) - Reactフレームワーク
- [TypeScript](https://www.typescriptlang.org/) - 型付き JavaScript
- [Tailwind CSS](https://tailwindcss.com/) - CSSフレームワーク
- [Prisma](https://www.prisma.io/) - データベースORM

## 📄 ライセンス

このプロジェクトは MIT ライセンスの下でオープンソース公開されています。詳細は [LICENSE](LICENSE) ファイルを参照してください。

## 🤝 コントリビューション

改善の提案や問題の報告は大歓迎です！プルリクエストをお待ちしております。

## 🌊 Windsurf Editor Performance Verification Project

> [!NOTE]
このリポジトリは、Windsurf AIエディタの性能と機能を検証するための実験的プロジェクトです。Windsurf は革新的なAIコーディング支援ツールであり、このプロジェクトはその capabilities と効率性を実証することを目的としています。
*This repository is an experimental project designed to verify the performance and capabilities of the Windsurf AI Editor. It serves as a comprehensive test bed to demonstrate the editor's advanced AI-assisted coding features and development efficiency.*

### 🚀 プロジェクトの目的 / Project Objectives
- Windsurf エディタの AI コーディング支援機能の実証
- リアルタイムのコード生成と提案の検証
- AI と開発者の協働ワークフローの探求

*Demonstrate Windsurf editor's AI coding assistance capabilities*
*Validate real-time code generation and suggestions*
*Explore collaborative workflows between AI and developers*

```

### 📝 `src/app/(auth)/layout.tsx`

```tsx
export const metadata = {
  title: 'Next.js',
  description: 'Generated by Next.js',
}

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="en">
      <body>{children}</body>
    </html>
  )
}

```

### 📝 `src/app/(auth)/login/page.tsx`

```tsx
"use client";

import { useState, useEffect } from "react";
import { signIn } from "next-auth/react";
import { useRouter } from "next/navigation";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { toast } from "sonner";

export default function LoginPage() {
  const [email, setEmail] = useState("");
  const [password, setPassword] = useState("");
  const [isClient, setIsClient] = useState(false);
  const router = useRouter();

  useEffect(() => {
    setIsClient(true);
  }, []);

  const handleLogin = async (e: React.FormEvent) => {
    e.preventDefault();
    
    const result = await signIn("credentials", {
      redirect: false,
      email,
      password,
    });

    if (result?.error) {
      toast.error("ログインに失敗しました", {
        description: "メールアドレスまたはパスワードが間違っています。"
      });
    } else {
      toast.success("ログインしました");
      router.push("/dashboard");
    }
  };

  if (!isClient) {
    return null;
  }

  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-100">
      <div className="bg-white p-8 rounded-lg shadow-md w-full max-w-md">
        <h2 className="text-2xl font-bold mb-6 text-center">ログイン</h2>
        <form onSubmit={handleLogin} className="space-y-4">
          <div>
            <Label htmlFor="email">メールアドレス</Label>
            <Input
              id="email"
              type="email"
              value={email}
              onChange={(e) => setEmail(e.target.value)}
              required
              placeholder="メールアドレスを入力"
            />
          </div>
          <div>
            <Label htmlFor="password">パスワード</Label>
            <Input
              id="password"
              type="password"
              value={password}
              onChange={(e) => setPassword(e.target.value)}
              required
              placeholder="パスワードを入力"
            />
          </div>
          <Button type="submit" className="w-full">
            ログイン
          </Button>
        </form>
      </div>
    </div>
  );
}

```

### 📝 `src/app/layout.tsx`

```tsx
"use client";

import { Inter } from 'next/font/google';
import { Toaster } from 'sonner';
import '../globals.css';
import { SessionProvider } from 'next-auth/react';
import { ReactNode } from 'react';

const inter = Inter({ subsets: ['latin'] });

export default function RootLayout({
  children,
}: {
  children: ReactNode;
}) {
  return (
    <html lang="ja" suppressHydrationWarning>
      <body className={inter.className} suppressHydrationWarning>
        <SessionProvider>
          {children}
          <Toaster 
            position="top-right" 
            richColors 
            closeButton 
            duration={3000} 
          />
        </SessionProvider>
      </body>
    </html>
  );
}

```

### 📝 `src/components/LogoutButton.tsx`

```tsx
import { signOut } from "next-auth/react";
import { Button } from "@/components/ui/button";
import { LogOut } from "lucide-react";
import { toast } from "sonner";

export function LogoutButton() {
  const handleLogout = async () => {
    try {
      await signOut({ 
        callbackUrl: '/login',
        redirect: true 
      });
      toast.success('ログアウトしました', {
        description: 'またのご利用をお待ちしております。'
      });
    } catch (error) {
      toast.error('ログアウトに失敗しました', {
        description: 'もう一度お試しください。'
      });
    }
  };

  return (
    <Button 
      variant="outline" 
      size="sm" 
      onClick={handleLogout}
      className="flex items-center gap-2"
    >
      <LogOut className="h-4 w-4" />
      ログアウト
    </Button>
  );
}

```

### 📝 `src/components/Navbar.tsx`

```tsx
"use client";

import Link from "next/link";
import { useSession } from "next-auth/react";
import { LogoutButton } from "./LogoutButton";
import { buttonVariants } from "@/components/ui/button";
import { cn } from "@/lib/utils";
import Image from "next/image";
import { useState, useEffect } from "react";

export default function Navbar() {
  const { data: session, status } = useSession();
  const [isClient, setIsClient] = useState(false);

  useEffect(() => {
    setIsClient(true);
  }, []);

  if (!isClient) {
    return null;
  }

  return (
    <nav className="fixed top-0 left-0 w-full bg-white/80 backdrop-blur-md z-50 shadow-sm">
      <div className="container mx-auto px-4 py-3 flex justify-between items-center">
        <Link href="/" className="text-2xl font-bold text-gray-800">
          カードショーケース
        </Link>
        <div className="flex items-center space-x-4">
          {status === 'authenticated' && session?.user ? (
            <div className="flex items-center space-x-4">
              <div className="flex items-center space-x-2">
                {session.user.image && (
                  <Image 
                    src={session.user.image} 
                    alt="プロフィール画像" 
                    width={32} 
                    height={32} 
                    className="rounded-full"
                  />
                )}
                <span className="text-sm font-medium">
                  {session.user.username || session.user.name || 'マイアカウント'}
                </span>
              </div>
              <Link 
                href="/dashboard" 
                className={cn(buttonVariants({ variant: "outline", size: "sm" }), "mr-2")}
              >
                ダッシュボード
              </Link>
              <LogoutButton />
            </div>
          ) : (
            <Link 
              href="/login" 
              className={buttonVariants({ variant: "default", size: "sm" })}
            >
              ログイン
            </Link>
          )}
        </div>
      </div>
    </nav>
  );
}

```

### 📝 `src/components/SpaceCard.tsx`

```tsx
import React from 'react';
import Image from 'next/image';

interface SpaceCardProps {
  title: string;
  author: {
    name: string;
    image?: string;
    username?: string;
  };
  likes: number;
  daysAgo: number;
  isRunning?: boolean;
  runtime?: string;
}

const getGradient = (index: number) => {
  const gradients = [
    'from-purple-600 to-pink-500',
    'from-blue-500 to-teal-400',
    'from-red-500 to-orange-400',
    'from-green-500 to-teal-400',
    'from-indigo-500 to-purple-500',
    'from-yellow-400 to-orange-500'
  ];
  return gradients[index % gradients.length];
};

const SpaceCard: React.FC<SpaceCardProps & { index: number }> = ({
  title,
  author,
  likes,
  daysAgo,
  isRunning = true,
  runtime = 'ZENO',
  index
}) => {
  return (
    <div className="card-base relative group">
      <div className={`card-gradient bg-gradient-to-br ${getGradient(index)} flex items-center justify-center p-6`} style={{ aspectRatio: '16/9' }}>
        <h3 className="card-title text-2xl font-bold text-white text-center break-words line-clamp-3 drop-shadow-lg">
          {title}
        </h3>
      </div>
      <div className="card-overlay absolute inset-0 flex flex-col justify-between p-4">
        <div className="flex justify-between items-start">
          {isRunning && (
            <span className="card-status text-xs bg-green-500/80 backdrop-blur px-2 py-1 rounded-full text-white">
              Running on {runtime}
            </span>
          )}
          <div className="card-likes flex items-center space-x-1 text-white">
            <svg className="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
              <path d="M9.653 16.915l-.005-.003-.019-.01a20.759 20.759 0 01-1.162-.682 22.045 22.045 0 01-2.582-1.9C4.045 12.733 2 10.352 2 7.5a4.5 4.5 0 018-2.828A4.5 4.5 0 0118 7.5c0 2.852-2.044 5.233-3.885 6.82a22.049 22.049 0 01-3.744 2.582l-.019.01-.005.003h-.002a.739.739 0 01-.69.001l-.002-.001z" />
            </svg>
            <span className="text-sm">{likes}</span>
          </div>
        </div>
        <div className="card-footer mt-auto">
          <div className="flex justify-between items-center text-sm text-white/80">
            <div className="flex items-center space-x-2">
              {author.image && (
                <Image 
                  src={author.image} 
                  alt={`${author.name}のプロフィール画像`} 
                  width={24} 
                  height={24} 
                  className="rounded-full"
                  onError={(e) => {
                    const target = e.target as HTMLImageElement;
                    target.src = '/default-avatar.png';
                  }}
                />
              )}
              <span>@{author.username || author.name}</span>
            </div>
            <span>{daysAgo} 日前</span>
          </div>
        </div>
      </div>
    </div>
  );
};

export default SpaceCard;

```

### 📝 `src/components/ui/button.tsx`

```tsx
import React from 'react';
import { cn } from '@/lib/utils';

type ButtonVariant = 'default' | 'outline' | 'ghost';
type ButtonSize = 'default' | 'sm' | 'lg';

interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: ButtonVariant;
  size?: ButtonSize;
  className?: string;
}

const buttonVariantsMap = {
  default: 'bg-primary-500 text-white hover:bg-primary-600',
  outline: 'border border-gray-300 text-gray-700 hover:bg-gray-100',
  ghost: 'hover:bg-gray-100 text-gray-700'
};

const buttonSizesMap = {
  default: 'px-4 py-2 text-base',
  sm: 'px-3 py-1 text-sm',
  lg: 'px-6 py-3 text-lg'
};

export function Button({
  children,
  variant = 'default',
  size = 'default',
  className,
  ...props
}: ButtonProps) {
  return (
    <button
      className={cn(
        'rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500',
        buttonVariantsMap[variant],
        buttonSizesMap[size],
        className
      )}
      {...props}
    >
      {children}
    </button>
  );
}

export function buttonVariants({ 
  variant = 'default', 
  size = 'default' 
}: { 
  variant?: ButtonVariant; 
  size?: ButtonSize; 
} = {}) {
  return cn(
    'rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500',
    buttonVariantsMap[variant],
    buttonSizesMap[size]
  );
}

```

### 📝 `src/components/ui/input.tsx`

```tsx
import React from 'react';
import { cn } from '@/lib/utils';

interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {
  label?: string;
}

export function Input({ 
  className, 
  type = 'text', 
  label,
  ...props 
}: InputProps) {
  return (
    <div className="w-full">
      {label && (
        <label 
          htmlFor={props.id} 
          className="block text-sm font-medium text-gray-700 mb-2"
        >
          {label}
        </label>
      )}
      <input
        type={type}
        className={cn(
          'block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm',
          'focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500',
          'sm:text-sm',
          className
        )}
        {...props}
      />
    </div>
  );
}

```

### 📝 `src/components/ui/label.tsx`

```tsx
import React from 'react';
import { cn } from '@/lib/utils';

interface LabelProps extends React.LabelHTMLAttributes<HTMLLabelElement> {
  children: React.ReactNode;
}

export function Label({ 
  children, 
  className, 
  ...props 
}: LabelProps) {
  return (
    <label
      className={cn(
        'block text-sm font-medium text-gray-700 mb-2',
        className
      )}
      {...props}
    >
      {children}
    </label>
  );
}

```

### 📝 `src/globals.css`

```css
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --foreground-rgb: 0, 0, 0;
  --background-start-rgb: 214, 219, 220;
  --background-end-rgb: 255, 255, 255;
}

@media (prefers-color-scheme: dark) {
  :root {
    --foreground-rgb: 255, 255, 255;
    --background-start-rgb: 0, 0, 0;
    --background-end-rgb: 0, 0, 0;
  }
}

body {
  color: rgb(var(--foreground-rgb));
  background: linear-gradient(
      to bottom,
      transparent,
      rgb(var(--background-end-rgb))
    )
    rgb(var(--background-start-rgb));
}

/* カスタムクラス */
.card-base {
  @apply rounded-lg overflow-hidden shadow-md transition-all duration-300 hover:shadow-xl;
}

.card-gradient {
  @apply relative overflow-hidden;
}

.card-overlay {
  @apply opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-black/50;
}

```

### 📝 `src/lib/auth.ts`

```ts
import { PrismaAdapter } from "@next-auth/prisma-adapter";
import { PrismaClient } from "@prisma/client";
import NextAuth, { AuthOptions, User as NextAuthUser } from "next-auth";
import CredentialsProvider from "next-auth/providers/credentials";
import * as bcrypt from 'bcryptjs';

const prisma = new PrismaClient();

// 型拡張
declare module "next-auth" {
  interface User {
    id: string;
    username?: string | null;
    bio?: string | null;
    image?: string | null;
  }
  interface Session {
    user: User;
  }
}

declare module "next-auth/jwt" {
  interface JWT {
    id: string;
    username?: string | null;
    bio?: string | null;
    image?: string | null;
  }
}

export const authOptions: AuthOptions = {
  adapter: PrismaAdapter(prisma),
  providers: [
    CredentialsProvider({
      name: "Credentials",
      credentials: {
        email: { label: "Email", type: "text" },
        password: { label: "Password", type: "password" }
      },
      async authorize(credentials) {
        if (!credentials?.email || !credentials?.password) {
          return null;
        }

        const user = await prisma.user.findUnique({
          where: { email: credentials.email }
        });

        if (!user) {
          return null;
        }

        // Use bcryptjs for password comparison
        const isValidPassword = await bcrypt.compare(
          credentials.password, 
          user.password || ''
        );

        if (!isValidPassword) {
          return null;
        }

        return {
          id: user.id,
          email: user.email,
          name: user.name,
          username: user.username,
          bio: user.bio,
          image: user.image
        };
      }
    }),
  ],
  session: {
    strategy: 'jwt', 
    maxAge: 30 * 24 * 60 * 60, // 30 days
  },
  events: {
    async signIn(message) {
      console.log('サインイン:', message);
    },
    async signOut(message) {
      console.log('サインアウト:', message);
    },
    async createUser(message) {
      console.log('ユーザー作成:', message);
    }
  },
  logger: {
    error(code, metadata) {
      console.error('NextAuth Error:', { code, metadata });
    },
    warn(code) {
      console.warn('NextAuth Warning:', code);
    },
    debug(code, metadata) {
      console.debug('NextAuth Debug:', { code, metadata });
    }
  },
  pages: {
    signIn: '/login',
    signOut: '/login',
    error: '/login'
  },
  callbacks: {
    async session({ session, token }) {
      if (token) {
        session.user.id = token.id;
        session.user.name = token.name;
        session.user.email = token.email;
        session.user.username = token.username;
        session.user.bio = token.bio;
        session.user.image = token.image;
      }
      return session;
    },
    async jwt({ token, user }) {
      if (user) {
        token.id = user.id;
        token.name = user.name;
        token.email = user.email;
        token.username = user.username;
        token.bio = user.bio;
        token.image = user.image;
      }
      return token;
    }
  },
  secret: process.env.NEXTAUTH_SECRET
};

export default NextAuth(authOptions);

```

### 📝 `src/lib/utils.ts`

```ts
import { type ClassValue, clsx } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}

```

### 📝 `src/pages/_app.tsx`

```tsx
import type { AppProps } from 'next/app'
import { SessionProvider } from "next-auth/react"
import '../styles/globals.css'

function MyApp({ Component, pageProps: { session, ...pageProps } }: AppProps) {
  return (
    <SessionProvider session={session}>
      <Component {...pageProps} />
    </SessionProvider>
  )
}

export default MyApp

```

### 📝 `src/pages/api/auth/[...nextauth].ts`

```ts
import { authOptions } from '../../../lib/auth';
import NextAuth from 'next-auth';

export default NextAuth(authOptions);

```

### 📝 `src/pages/api/profile/update.ts`

```ts
import type { NextApiRequest, NextApiResponse } from 'next';
import { PrismaClient } from '@prisma/client';
import { getServerSession } from 'next-auth/next';
import { authOptions } from '../../../lib/auth';

const prisma = new PrismaClient();

export default async function handler(req: NextApiRequest, res: NextApiResponse) {
  if (req.method !== 'POST') {
    return res.status(405).json({ message: 'Method not allowed' });
  }

  try {
    const session = await getServerSession(req, res, authOptions);

    if (!session) {
      return res.status(401).json({ message: 'ログインが必要です', error: 'Unauthorized' });
    }

    const { username, bio, email } = req.body;

    // Validation
    if (!username || username.length < 3) {
      return res.status(400).json({ 
        message: 'ユーザー名は3文字以上である必要があります',
        error: 'Invalid username'
      });
    }

    if (!email || !/\S+@\S+\.\S+/.test(email)) {
      return res.status(400).json({ 
        message: '有効なメールアドレスを入力してください',
        error: 'Invalid email'
      });
    }

    // Check if the new username is already taken (excluding current user)
    const existingUser = await prisma.user.findFirst({
      where: {
        AND: [
          { username: username },
          { id: { not: session.user.id } }
        ]
      }
    });

    if (existingUser) {
      return res.status(400).json({ 
        message: 'このユーザー名は既に使用されています',
        error: 'Username already exists'
      });
    }

    // Update user profile
    const updatedUser = await prisma.user.update({
      where: { id: session.user.id },
      data: {
        username,
        bio: bio || null,
        email,
        name: username  // Update name to match username
      },
      select: {
        id: true,
        username: true,
        email: true,
        name: true,
        bio: true,
        image: true
      }
    });

    return res.status(200).json({
      message: 'プロフィールが正常に更新されました',
      user: updatedUser
    });
  } catch (err: any) {
    console.error('プロフィール更新エラー:', {
      name: err.name,
      message: err.message,
      code: err.code,
      stack: err.stack
    });

    // Handle unique constraint violation
    if (err.code === 'P2002') {
      return res.status(400).json({ 
        message: 'ユーザー名またはメールアドレスは既に使用されています',
        error: 'Unique constraint violation'
      });
    }

    return res.status(500).json({ 
      message: 'プロフィールの更新中に予期せぬエラーが発生しました',
      error: err.message || 'Internal server error'
    });
  } finally {
    await prisma.$disconnect();
  }
}

export const config = {
  api: {
    bodyParser: {
      sizeLimit: '1mb',
    },
  },
};

```

### 📝 `src/pages/api/signup.ts`

```ts
import type { NextApiRequest, NextApiResponse } from 'next';
import { PrismaClient } from '@prisma/client';
import * as bcrypt from 'bcryptjs';

// Prevent multiple Prisma Client instances
const prisma = new PrismaClient();

export default async function handler(req: NextApiRequest, res: NextApiResponse) {
  if (req.method !== 'POST') {
    return res.status(405).json({ message: 'Method not allowed' });
  }

  const { username, email, password } = req.body;

  // Validation
  if (!username || username.length < 3) {
    return res.status(400).json({ message: 'ユーザー名は3文字以上である必要があります' });
  }

  if (!email || !/\S+@\S+\.\S+/.test(email)) {
    return res.status(400).json({ message: '有効なメールアドレスを入力してください' });
  }

  if (!password || password.length < 8) {
    return res.status(400).json({ message: 'パスワードは8文字以上である必要があります' });
  }

  try {
    // Check for existing user
    const existingUser = await prisma.user.findFirst({
      where: {
        OR: [
          { username: username },
          { email: email }
        ]
      }
    });

    if (existingUser) {
      if (existingUser.username === username) {
        return res.status(400).json({ message: 'このユーザー名は既に使用されています' });
      }
      if (existingUser.email === email) {
        return res.status(400).json({ message: 'このメールアドレスは既に登録されています' });
      }
    }

    // Hash the password
    const hashedPassword = await bcrypt.hash(password, 10);

    // Create user
    const user = await prisma.user.create({
      data: {
        username,
        email,
        password: hashedPassword,
        name: username,
        bio: `こんにちは！私は${username}です。`, // Default bio
        image: `https://api.dicebear.com/7.x/adventurer/svg?seed=${username}` // Generate default avatar
      },
      select: {
        id: true,
        username: true,
        email: true,
        name: true,
        bio: true,
        image: true
      }
    });

    // Return success response
    return res.status(201).json({ 
      message: 'ユーザー登録が完了しました', 
      user: { 
        id: user.id, 
        username: user.username, 
        email: user.email,
        name: user.name,
        bio: user.bio,
        image: user.image,
        profile: {
          bio: user.bio,
          image: user.image
        }
      } 
    });
  } catch (err: any) {
    console.error('サインアップエラー:', {
      name: err.name,
      message: err.message,
      code: err.code,
      stack: err.stack,
      fullError: JSON.stringify(err, Object.getOwnPropertyNames(err))
    });

    // More specific error handling
    if (err.code === 'P2002') {
      return res.status(400).json({ message: 'ユーザー名またはメールアドレスは既に使用されています' });
    }

    // Generic error response
    return res.status(500).json({ 
      message: 'サインアップ中に予期せぬエラーが発生しました',
      error: err.message || 'サーバーエラー',
      details: JSON.stringify(err, Object.getOwnPropertyNames(err))
    });
  }
}

// Prevent Prisma Client from being created on every request
export const config = {
  api: {
    bodyParser: true,
  },
};

```

### 📝 `src/pages/create-space.tsx`

```tsx
import React, { useState } from 'react';
import Head from 'next/head';
import Link from 'next/link';

const CreateSpace: React.FC = () => {
  const [spaceName, setSpaceName] = useState('');
  const [description, setDescription] = useState('');
  const [visibility, setVisibility] = useState('public');
  const [runtime, setRuntime] = useState('ZENO');

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    // TODO: Implement space creation logic
    console.log('Creating space:', { spaceName, description, visibility, runtime });
  };

  return (
    <div className="min-h-screen bg-gray-50">
      <Head>
        <title>Create New Space - Hugging Face</title>
      </Head>

      <header className="container mx-auto flex justify-between items-center py-4 px-4">
        <div className="flex items-center gap-4">
          <h1 className="text-3xl font-bold flex items-center gap-2">
            <span className="text-2xl">🤗</span> Create New Space
          </h1>
        </div>
        <div className="flex items-center gap-4">
          <Link href="/profile" className="text-gray-700 hover:text-[#FF9D00] transition-colors">
            My Profile
          </Link>
        </div>
      </header>

      <main className="container mx-auto px-4 py-8">
        <form onSubmit={handleSubmit} className="max-w-2xl mx-auto bg-white shadow-md rounded-lg p-8 space-y-6">
          <div>
            <label htmlFor="spaceName" className="block text-sm font-medium text-gray-700 mb-2">
              Space Name
            </label>
            <input
              type="text"
              id="spaceName"
              value={spaceName}
              onChange={(e) => setSpaceName(e.target.value)}
              required
              className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#FF9D00]"
              placeholder="Enter a unique name for your Space"
            />
          </div>

          <div>
            <label htmlFor="description" className="block text-sm font-medium text-gray-700 mb-2">
              Description
            </label>
            <textarea
              id="description"
              value={description}
              onChange={(e) => setDescription(e.target.value)}
              rows={4}
              className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#FF9D00]"
              placeholder="Describe what your Space does"
            />
          </div>

          <div className="grid grid-cols-2 gap-6">
            <div>
              <label htmlFor="visibility" className="block text-sm font-medium text-gray-700 mb-2">
                Visibility
              </label>
              <select
                id="visibility"
                value={visibility}
                onChange={(e) => setVisibility(e.target.value)}
                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#FF9D00]"
              >
                <option value="public">Public</option>
                <option value="private">Private</option>
                <option value="unlisted">Unlisted</option>
              </select>
            </div>

            <div>
              <label htmlFor="runtime" className="block text-sm font-medium text-gray-700 mb-2">
                Runtime
              </label>
              <select
                id="runtime"
                value={runtime}
                onChange={(e) => setRuntime(e.target.value)}
                className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#FF9D00]"
              >
                <option value="ZENO">ZENO</option>
                <option value="CUDA">CUDA</option>
                <option value="CPU">CPU</option>
                <option value="TPU">TPU</option>
              </select>
            </div>
          </div>

          <div>
            <label htmlFor="upload" className="block text-sm font-medium text-gray-700 mb-2">
              Upload Files
            </label>
            <div className="flex items-center justify-center w-full">
              <label className="flex flex-col w-full h-32 border-4 border-dashed hover:bg-gray-100 hover:border-gray-300">
                <div className="flex flex-col items-center justify-center pt-7">
                  <svg xmlns="http://www.w3.org/2000/svg" className="w-8 h-8 text-gray-400 group-hover:text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                  </svg>
                  <p className="pt-1 text-sm tracking-wider text-gray-400 group-hover:text-gray-600">
                    Select a file or drag and drop
                  </p>
                </div>
                <input type="file" className="opacity-0" multiple />
              </label>
            </div>
          </div>

          <div>
            <button
              type="submit"
              className="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-[#FF9D00] hover:bg-[#FF8A00] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#FF9D00]"
            >
              Create Space
            </button>
          </div>
        </form>
      </main>
    </div>
  );
};

export default CreateSpace;

```

### 📝 `src/pages/index.tsx`

```tsx
import { NextPage } from 'next';
import Head from 'next/head';
import Link from 'next/link';
import dynamic from 'next/dynamic';
import { useSession } from 'next-auth/react';

const SpaceCard = dynamic(() => import('../components/SpaceCard'), { 
  ssr: true,  // Ensure server-side rendering
  loading: () => <div>Loading...</div>
});

const demoSpaces = [
  {
    title: 'Kokoro TTS',
    author: {
      name: 'hexgrad',
      username: 'hexgrad',
      image: 'https://avatars.githubusercontent.com/u/example1'
    },
    likes: 1220,
    daysAgo: 5,
    runtime: 'ZENO'
  },
  {
    title: 'TransPixar',
    author: {
      name: 'wilkemang',
      username: 'wilkemang',
      image: 'https://avatars.githubusercontent.com/u/example2'
    },
    likes: 874,
    daysAgo: 12,
    runtime: 'ZENO'
  },
  {
    title: 'FitDIT',
    author: {
      name: 'BoyuanJiang',
      username: 'BoyuanJiang',
      image: 'https://avatars.githubusercontent.com/u/example3'
    },
    likes: 125,
    daysAgo: 3,
    runtime: 'ZENO'
  },
  {
    title: 'VITPose Transformers',
    author: {
      name: 'hysts',
      username: 'hysts',
      image: 'https://avatars.githubusercontent.com/u/example4'
    },
    likes: 68,
    daysAgo: 2,
    runtime: 'ZENO'
  }
];

const Home: NextPage = () => {
  const { data: session } = useSession();

  return (
    <div className="min-h-screen bg-gray-50">
      <Head>
        <title>Hugging Face Spaces Gallery</title>
        <meta name="description" content="Discover amazing AI apps made by the community!" />
      </Head>

      <header className="container mx-auto flex justify-between items-center py-4 px-4">
        <div className="flex items-center gap-4">
          <h1 className="text-3xl font-bold flex items-center gap-2">
            <span className="text-2xl">🤗</span> Spaces
          </h1>
          <nav className="flex items-center gap-4">
            <Link href="/" className="text-gray-700 hover:text-[#FF9D00] transition-colors">
              Home
            </Link>
            <Link href="/spaces" className="text-gray-700 hover:text-[#FF9D00] transition-colors">
              Browse Spaces
            </Link>
          </nav>
        </div>
        <div className="flex items-center gap-4">
          {session ? (
            <>
              <Link href="/profile" className="text-gray-700 hover:text-[#FF9D00] transition-colors mr-2">
                {session.user?.username || session.user?.name || 'Profile'}
              </Link>
              <Link href="/create-space" className="create-button flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                  <path fillRule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clipRule="evenodd" />
                </svg>
                Create new Space
              </Link>
            </>
          ) : (
            <>
              <Link href="/login" className="text-gray-700 hover:text-[#FF9D00] transition-colors mr-2">
                Login
              </Link>
              <Link href="/signup" className="bg-[#FF9D00] text-white px-4 py-2 rounded-lg hover:bg-[#FF8A00] transition-colors mr-2">
                Sign Up
              </Link>
            </>
          )}
        </div>
      </header>

      <main className="container mx-auto px-4">
        {/* Header */}
        <div className="flex justify-between items-center mb-8">
          <div>
            <p className="text-gray-600 mt-1">Discover amazing AI apps made by the community!</p>
          </div>
          {/* Removed redundant My Profile button */}
        </div>

        {/* Search and Filters */}
        <div className="flex items-center gap-4 mb-8">
          <div className="relative flex-1">
            <input
              type="text"
              placeholder="Search Spaces"
              className="search-input"
            />
            <svg
              className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"
              width="20"
              height="20"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                strokeLinecap="round"
                strokeLinejoin="round"
                strokeWidth={2}
                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
              />
            </svg>
          </div>
          <Link href="/spaces" className="filter-button">
            Browse all Spaces
          </Link>
          <button className="filter-button">
            Full-text search
          </button>
          <div className="flex items-center gap-2">
            <span className="text-sm text-gray-600">Sort:</span>
            <select className="px-3 py-2 text-sm bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
              <option value="trending">Trending</option>
              <option value="latest">Latest</option>
              <option value="likes">Most Liked</option>
            </select>
          </div>
        </div>

        {/* Spaces Grid */}
        <section>
          <div className="flex items-center gap-2 mb-6">
            <h2 className="text-xl font-semibold">⭐ Spaces of the week</h2>
            <span className="text-orange-500">🔥</span>
          </div>
          
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            {demoSpaces.map((space, index) => (
              <SpaceCard
                key={index}
                {...space}
                index={index}
              />
            ))}
          </div>
        </section>
      </main>
    </div>
  );
};

export default Home;

```

### 📝 `src/pages/profile.tsx`

```tsx
import React, { useState } from 'react';
import Head from 'next/head';
import Link from 'next/link';
import { getSession } from 'next-auth/react';
import { GetServerSideProps } from 'next';
import { PrismaClient } from '@prisma/client';

interface ProfilePageProps {
  user: {
    id: string;
    username: string;
    email: string;
    name: string;
    bio: string;
    image: string;
  };
}

const Profile: React.FC<ProfilePageProps> = ({ user }) => {
  const [username, setUsername] = useState(user.username);
  const [bio, setBio] = useState(user.bio || '');
  const [email, setEmail] = useState(user.email);
  const [isEditing, setIsEditing] = useState(false);

  const handleSave = async () => {
    try {
      const response = await fetch('/api/profile/update', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          username,
          bio,
          email,
        }),
      });

      const data = await response.json();

      if (!response.ok) {
        throw new Error(data.message || 'プロフィールの更新に失敗しました');
      }

      // Update local state with server response
      if (data.user) {
        setUsername(data.user.username);
        setBio(data.user.bio || '');
        setEmail(data.user.email);
      }
      
      setIsEditing(false);
    } catch (error: any) {
      console.error('プロフィール更新エラー:', error);
      alert(error.message || 'プロフィールの更新中にエラーが発生しました');
    }
  };

  return (
    <div className="min-h-screen bg-gray-50 py-8">
      <Head>
        <title>プロフィール - Hugging Face Spaces</title>
      </Head>
      
      <div className="container mx-auto max-w-4xl">
        <div className="bg-white shadow-md rounded-lg overflow-hidden">
          <div className="bg-gradient-to-r from-[#FF9D00] to-[#FF8A00] h-32 relative">
            <div className="absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-1/2">
              <div className="w-32 h-32 bg-white rounded-full border-4 border-white shadow-lg overflow-hidden">
                <img 
                  src={user.image || 'https://api.dicebear.com/7.x/adventurer/svg?seed=' + user.username} 
                  alt="プロフィール画像" 
                  className="w-full h-full object-cover"
                />
              </div>
            </div>
          </div>
          
          <div className="pt-20 px-6 pb-6 text-center">
            {isEditing ? (
              <div className="space-y-4">
                <input
                  type="text"
                  value={username}
                  onChange={(e) => setUsername(e.target.value)}
                  className="w-full px-3 py-2 border border-gray-300 rounded-md"
                  placeholder="ユーザー名"
                />
                <textarea
                  value={bio}
                  onChange={(e) => setBio(e.target.value)}
                  className="w-full px-3 py-2 border border-gray-300 rounded-md"
                  placeholder="自己紹介"
                  rows={3}
                />
                <input
                  type="email"
                  value={email}
                  onChange={(e) => setEmail(e.target.value)}
                  className="w-full px-3 py-2 border border-gray-300 rounded-md"
                  placeholder="メールアドレス"
                />
                <div className="flex justify-center space-x-4">
                  <button
                    onClick={handleSave}
                    className="bg-[#FF9D00] text-white px-4 py-2 rounded-md hover:bg-[#FF8A00]"
                  >
                    変更を保存
                  </button>
                  <button
                    onClick={() => setIsEditing(false)}
                    className="bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300"
                  >
                    キャンセル
                  </button>
                </div>
              </div>
            ) : (
              <>
                <h1 className="text-2xl font-bold text-gray-800">{username}</h1>
                <p className="text-gray-600 mt-2">{bio || '自己紹介が設定されていません'}</p>
                <p className="text-gray-500 text-sm mt-1">{email}</p>
                
                <div className="mt-6 flex justify-center space-x-4">
                  <button
                    onClick={() => setIsEditing(true)}
                    className="bg-[#FF9D00] text-white px-4 py-2 rounded-md hover:bg-[#FF8A00]"
                  >
                    プロフィールを編集
                  </button>
                  <Link href="/spaces" className="bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300">
                    マイスペース
                  </Link>
                </div>
              </>
            )}
          </div>
        </div>
        
        <div className="mt-8 bg-white shadow-md rounded-lg p-6">
          <h2 className="text-xl font-semibold mb-4">最近のアクティビティ</h2>
          <div className="space-y-4">
            <div className="border-b pb-4">
              <p className="text-gray-700">新しいスペースを作成: <Link href="#" className="text-[#FF9D00] hover:underline">Kokoro TTS</Link></p>
              <span className="text-sm text-gray-500">2日前</span>
            </div>
            <div className="border-b pb-4">
              <p className="text-gray-700"><Link href="#" className="text-[#FF9D00] hover:underline">TransPixar</Link> スペースをいいねしました</p>
              <span className="text-sm text-gray-500">5日前</span>
            </div>
            <div>
              <p className="text-gray-700"><Link href="#" className="text-[#FF9D00] hover:underline">@wilkemang</Link> をフォローしました</p>
              <span className="text-sm text-gray-500">1週間前</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export const getServerSideProps: GetServerSideProps = async (context) => {
  const session = await getSession(context);

  if (!session) {
    return {
      redirect: {
        destination: '/login',
        permanent: false,
      },
    };
  }

  const prisma = new PrismaClient();

  try {
    const user = await prisma.user.findUnique({
      where: { id: session.user.id },
      select: {
        id: true,
        username: true,
        email: true,
        name: true,
        bio: true,
        image: true,
      }
    });

    return {
      props: { 
        user: JSON.parse(JSON.stringify(user)) // Serialize to remove undefined
      }
    };
  } catch (error) {
    console.error('プロフィール取得エラー:', error);
    return {
      redirect: {
        destination: '/login',
        permanent: false,
      },
    };
  } finally {
    await prisma.$disconnect();
  }
};

export default Profile;

```

### 📝 `src/pages/signup.tsx`

```tsx
import React, { useState } from 'react';
import Head from 'next/head';
import Link from 'next/link';
import { useRouter } from 'next/router';

const Signup: React.FC = () => {
  const [username, setUsername] = useState('');
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [confirmPassword, setConfirmPassword] = useState('');
  const [error, setError] = useState('');
  const router = useRouter();

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setError('');

    // Client-side validation
    if (!username || username.length < 3) {
      setError('Username must be at least 3 characters long');
      return;
    }

    if (!email || !/\S+@\S+\.\S+/.test(email)) {
      setError('Please enter a valid email address');
      return;
    }

    if (password !== confirmPassword) {
      setError('Passwords do not match');
      return;
    }

    if (password.length < 8) {
      setError('Password must be at least 8 characters long');
      return;
    }

    try {
      // Send signup request to API route
      const response = await fetch('/api/signup', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          username,
          email,
          password,
        }),
      });

      const data = await response.json();

      if (!response.ok) {
        // Handle error response
        setError(data.message || data.error || 'An unexpected error occurred');
        
        // Log additional error details to console for debugging
        if (data.details) {
          console.error('Signup Error Details:', data.details);
        }
        return;
      }

      // Successful signup
      console.log('Signup successful:', data);
      router.push('/login');
    } catch (err: any) {
      console.error('Signup error:', err);
      setError('An unexpected error occurred. Please try again.');
    }
  };

  return (
    <div className="min-h-screen bg-gray-50 flex items-center justify-center px-4 py-8">
      <Head>
        <title>Sign Up - Hugging Face Spaces</title>
      </Head>
      
      <div className="w-full max-w-md bg-white shadow-md rounded-lg p-8">
        <div className="text-center mb-6">
          <h1 className="text-3xl font-bold text-gray-800 flex items-center justify-center gap-2">
            <span className="text-2xl">🤗</span> Create Account
          </h1>
          <p className="text-gray-600 mt-2">Join the AI community</p>
        </div>
        
        {error && (
          <div className="mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded">
            {error}
          </div>
        )}
        
        <form onSubmit={handleSubmit} className="space-y-4">
          <div>
            <label htmlFor="username" className="block text-sm font-medium text-gray-700">
              Username
            </label>
            <input
              type="text"
              id="username"
              value={username}
              onChange={(e) => setUsername(e.target.value)}
              required
              minLength={3}
              className="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-[#FF9D00] focus:border-transparent"
              placeholder="Choose a unique username"
            />
          </div>
          
          <div>
            <label htmlFor="email" className="block text-sm font-medium text-gray-700">
              Email Address
            </label>
            <input
              type="email"
              id="email"
              value={email}
              onChange={(e) => setEmail(e.target.value)}
              required
              className="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-[#FF9D00] focus:border-transparent"
              placeholder="you@example.com"
            />
          </div>
          
          <div>
            <label htmlFor="password" className="block text-sm font-medium text-gray-700">
              Password
            </label>
            <input
              type="password"
              id="password"
              value={password}
              onChange={(e) => setPassword(e.target.value)}
              required
              minLength={8}
              className="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-[#FF9D00] focus:border-transparent"
              placeholder="At least 8 characters"
            />
          </div>
          
          <div>
            <label htmlFor="confirm-password" className="block text-sm font-medium text-gray-700">
              Confirm Password
            </label>
            <input
              type="password"
              id="confirm-password"
              value={confirmPassword}
              onChange={(e) => setConfirmPassword(e.target.value)}
              required
              minLength={8}
              className="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-[#FF9D00] focus:border-transparent"
              placeholder="Repeat your password"
            />
          </div>
          
          <div>
            <button
              type="submit"
              className="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-[#FF9D00] hover:bg-[#FF8A00] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#FF9D00]"
            >
              Sign Up
            </button>
          </div>
        </form>
        
        <div className="mt-6 text-center">
          <p className="text-sm text-gray-600">
            Already have an account?{' '}
            <Link href="/login" className="font-medium text-[#FF9D00] hover:text-[#FF8A00]">
              Log in
            </Link>
          </p>
        </div>
      </div>
    </div>
  );
};

export default Signup;

```

### 📝 `src/pages/spaces.tsx`

```tsx
import React, { useState } from 'react';
import Head from 'next/head';
import Link from 'next/link';
import SpaceCard from '../components/SpaceCard';

interface Author {
  name: string;
  username: string;
  image: string;
}

interface Space {
  title: string;
  author: Author;
  likes: number;
  daysAgo: number;
  runtime: string;
}

const allSpaces: Space[] = [
  {
    title: 'Kokoro TTS',
    author: {
      name: 'hexgrad',
      username: 'hexgrad',
      image: 'https://avatars.githubusercontent.com/u/example1'
    },
    likes: 1220,
    daysAgo: 5,
    runtime: 'ZENO'
  },
  {
    title: 'TransPixar',
    author: {
      name: 'wilkemang',
      username: 'wilkemang',
      image: 'https://avatars.githubusercontent.com/u/example2'
    },
    likes: 874,
    daysAgo: 12,
    runtime: 'ZENO'
  },
  {
    title: 'FitDIT',
    author: {
      name: 'BoyuanJiang',
      username: 'BoyuanJiang',
      image: 'https://avatars.githubusercontent.com/u/example3'
    },
    likes: 125,
    daysAgo: 3,
    runtime: 'ZENO'
  },
  {
    title: 'VITPose Transformers',
    author: {
      name: 'hysts',
      username: 'hysts',
      image: 'https://avatars.githubusercontent.com/u/example4'
    },
    likes: 68,
    daysAgo: 2,
    runtime: 'ZENO'
  },
  {
    title: 'AI Image Generator',
    author: {
      name: 'midjourney',
      username: 'midjourney',
      image: 'https://avatars.githubusercontent.com/u/example5'
    },
    likes: 456,
    daysAgo: 15,
    runtime: 'CUDA'
  },
  {
    title: 'Language Translator',
    author: {
      name: 'nlp_expert',
      username: 'nlp_expert',
      image: 'https://avatars.githubusercontent.com/u/example6'
    },
    likes: 234,
    daysAgo: 8,
    runtime: 'TPU'
  },
  {
    title: 'Music Composition AI',
    author: {
      name: 'soundwave',
      username: 'soundwave',
      image: 'https://avatars.githubusercontent.com/u/example7'
    },
    likes: 312,
    daysAgo: 20,
    runtime: 'ZENO'
  },
  {
    title: 'Code Completion Tool',
    author: {
      name: 'codegen',
      username: 'codegen',
      image: 'https://avatars.githubusercontent.com/u/example8'
    },
    likes: 567,
    daysAgo: 10,
    runtime: 'CPU'
  }
];

const Spaces: React.FC = () => {
  const [searchTerm, setSearchTerm] = useState('');
  const [sortBy, setSortBy] = useState('trending');

  const filteredSpaces = allSpaces.filter(space => 
    space.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
    space.author.username.toLowerCase().includes(searchTerm.toLowerCase())
  ).sort((a, b) => {
    switch (sortBy) {
      case 'latest':
        return a.daysAgo - b.daysAgo;
      case 'likes':
        return b.likes - a.likes;
      default:
        return b.likes - a.likes;
    }
  });

  return (
    <div className="min-h-screen bg-gray-50">
      <Head>
        <title>Browse Spaces - Hugging Face</title>
      </Head>

      <header className="container mx-auto flex justify-between items-center py-4 px-4">
        <div className="flex items-center gap-4">
          <h1 className="text-3xl font-bold flex items-center gap-2">
            <span className="text-2xl">🤗</span> Browse Spaces
          </h1>
        </div>
        <div className="flex items-center gap-4">
          <Link href="/login" className="text-gray-700 hover:text-[#FF9D00] transition-colors">
            Login
          </Link>
          <Link href="/signup" className="bg-[#FF9D00] text-white px-4 py-2 rounded-lg hover:bg-[#FF8A00] transition-colors">
            Sign Up
          </Link>
        </div>
      </header>

      <main className="container mx-auto px-4 py-8">
        <div className="flex items-center gap-4 mb-8">
          <div className="relative flex-1">
            <input
              type="text"
              placeholder="Search Spaces by name or author"
              value={searchTerm}
              onChange={(e) => setSearchTerm(e.target.value)}
              className="search-input"
            />
            <svg
              className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"
              width="20"
              height="20"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                strokeLinecap="round"
                strokeLinejoin="round"
                strokeWidth={2}
                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
              />
            </svg>
          </div>
          <div className="flex items-center gap-2">
            <span className="text-sm text-gray-600">Sort by:</span>
            <select
              value={sortBy}
              onChange={(e) => setSortBy(e.target.value)}
              className="px-3 py-2 text-sm bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
            >
              <option value="trending">Trending</option>
              <option value="latest">Latest</option>
              <option value="likes">Most Liked</option>
            </select>
          </div>
        </div>

        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
          {filteredSpaces.map((space, index) => (
            <SpaceCard
              key={index}
              {...space}
              index={index}
            />
          ))}
        </div>

        {filteredSpaces.length === 0 && (
          <div className="text-center py-12">
            <p className="text-gray-500">No spaces found matching your search.</p>
          </div>
        )}
      </main>
    </div>
  );
};

export default Spaces;

```

### 📝 `src/styles/globals.css`

```css
@tailwind base;
@tailwind components;
@tailwind utilities;

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

:root {
  --foreground-rgb: 26, 32, 44;
  --background-rgb: 245, 248, 250;
}

body {
  color: rgb(var(--foreground-rgb));
  background: rgb(var(--background-rgb));
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  line-height: 1.5;
}

.container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
}

@layer components {
  .card-base {
    @apply relative overflow-hidden rounded-lg shadow-lg hover:shadow-xl transition-all duration-300;
  }

  .card-base {
    @apply relative overflow-hidden rounded-lg shadow-lg transition-all duration-300 ease-in-out transform hover:scale-105 hover:shadow-2xl cursor-pointer;
  }

  .card-base .card-gradient {
    @apply relative flex items-center justify-center p-6 transition-all duration-300 ease-in-out;
  }

  .card-base:hover .card-gradient {
    @apply brightness-110 contrast-125;
  }

  .card-base .card-overlay {
    @apply absolute inset-0 flex flex-col justify-between p-4 opacity-0 transition-opacity duration-300 ease-in-out;
  }

  .card-base:hover .card-overlay {
    @apply opacity-100 bg-black/20;
  }

  .card-base .card-title {
    @apply text-2xl font-bold text-white text-center break-words line-clamp-3 drop-shadow-lg transition-transform duration-300 ease-in-out;
  }

  .card-base:hover .card-title {
    @apply -translate-y-1 scale-105;
  }

  .card-status {
    @apply text-xs bg-green-500/80 backdrop-blur px-2 py-1 rounded-full text-white;
  }

  .card-likes {
    @apply flex items-center space-x-1 text-white;
  }

  .card-footer {
    @apply mt-auto flex justify-between items-center text-sm text-white/80;
  }

  .search-input {
    @apply w-full px-4 py-2 pl-10 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent;
  }

  .filter-button {
    @apply px-4 py-2 text-sm text-gray-700 border border-gray-300 rounded-lg hover:border-gray-400;
  }

  .create-button {
    @apply bg-[#FF9D00] text-white px-4 py-2 rounded-lg hover:bg-[#FF8A00] transition-colors;
  }
}

```

### 📝 `src/types/next-auth.d.ts`

```ts
import NextAuth from "next-auth";

declare module "next-auth" {
  interface Session {
    user: {
      id: string;
      name?: string | null;
      email?: string | null;
      username?: string | null;
      bio?: string | null;
      image?: string | null;
    }
  }
}

declare module "next-auth/jwt" {
  interface JWT {
    id: string;
    name?: string | null;
    email?: string | null;
    username?: string | null;
    bio?: string | null;
    image?: string | null;
  }
}

```

### 📝 `tailwind.config.js`

```js
/** @type {import('tailwindcss').Config} */
module.exports = {
  content: [
    './src/pages/**/*.{js,ts,jsx,tsx}',
    './src/components/**/*.{js,ts,jsx,tsx}',
    './src/app/**/*.{js,ts,jsx,tsx}',
  ],
  theme: {
    extend: {
      colors: {
        primary: {
          50: '#f5f8ff',
          100: '#ebf1ff',
          200: '#d6e4ff',
          300: '#b3ccff',
          400: '#809fff',
          500: '#4d73ff',
          600: '#1a46ff',
          700: '#0033ff',
          800: '#0029cc',
          900: '#001f99',
        },
      },
    },
  },
  plugins: [
    require('@tailwindcss/aspect-ratio'),
  ],
}

```

### 📝 `tsconfig.json`

```json
{
  "compilerOptions": {
    "target": "es5",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": ["next-env.d.ts", "**/*.ts", "**/*.tsx", ".next/types/**/*.ts"],
  "exclude": ["node_modules"]
}

```
